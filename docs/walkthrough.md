# Trending Paper Dashboard Walkthrough

## 達成事項
- **要件定義**: `docs/requirements.md` にて機能要件（データ取得、検索機能、カード表示、日付フィルタ、**データ保存**）を定義しました。
- **実装計画**: `docs/implementation_plan.md` にて技術構成を策定済み。
- **実装完了**:
  - `app.py`: メインアプリケーション（UI、制御ロジック、日付範囲指定）。
  - `utils.py`: データ取得・保存・読み込みロジック（リトライ処理追加）。
  - `css/style.css`: カードデザイン用CSS。
  - `data/`: 取得したJSONデータを保存するディレクトリ。

## 実行方法

### 1. アプリケーションの起動
以下のコマンドでダッシュボードを起動します。
```powershell
venv\Scripts\streamlit run app.py
```

### 2. 使い方
1. **日付選択**: サイドバーの「日付選択モード」で「単一日付」か「期間指定」を選択し、日付を選びます。「単一日付」では **◀ ▶ ボタン** で前後の日付に移動できます。
2. **並び替え**: サイドバーの「並び替え」ラジオボタンから、**新着順** または **Upvote数順** を選択できます。
3. **データ取得**: 初回は「データを取得・保存する」ボタンが表示されるのでクリックします。
   - `data/YYYY-MM-DD.json` にデータが保存されます。
   - **注意**: 各論文の要約を取得するため、完了まで数秒〜数十秒かかります（プログレスバーが表示されます）。
   - **レート制限対策**: 429エラー防止のため、リクエスト間に待機時間を設けています。取得が少しゆっくりになりますが正常動作です。
3. **検索**: 保存されたデータに対して、キーワード検索が可能です（オフラインでも動作します）。
4. **更新**: 既にデータがある場合でも「再取得 (更新)」ボタンで最新情報を取得し直せます。

### 3. 検証スクリプト
以下のスクリプトで、データ取得・保存機能単体の動作確認が可能です。
```powershell
venv\Scripts\python verify_persistence.py
```

## 注意点
- 初回起動時、Email入力などを求められることがありますが、Enterでスキップ可能です。
- スクレイピングを使用しているため、Hugging Faceのサイト構造変更により取得できなくなる可能性があります。その場合は `utils.py` の修正が必要です。
